<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EasySave.Maui.MainPage"
             >

    <Grid BackgroundColor="{StaticResource White}">
        <Grid x:Name="MainContent">
            <Grid.RowDefinitions >
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />

            </Grid.RowDefinitions>


            <Grid Grid.Row="0" ColumnDefinitions="auto, *, auto" Margin="5">
                <Image Source="dotnet_bot.png" WidthRequest="50" HeightRequest="50" />
                <StackLayout Grid.Column="2" Orientation="Horizontal" Spacing="25">
                    <Switch />
                    <Switch />
                    <Button  Text="Paramètres"  MaximumWidthRequest="150" BackgroundColor="{StaticResource MainColor}"  Clicked="ClickParametersButton"/>
                </StackLayout>

            </Grid>

            <Grid Grid.Row="1"  Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="0.25*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <CollectionView Background="{StaticResource Gray100}">
                    <CollectionView.Header>
                        <Grid Padding="10"
              BackgroundColor="{StaticResource MainColor}"
              ColumnDefinitions="*,*,*,*,*,*">
                            <Label Text="ID" TextColor="White"  Grid.Column="0" />
                            <Label Text="Nom" TextColor="White"  Grid.Column="1" />
                            <Label Text="SourcePath" TextColor="White"  Grid.Column="2" />
                            <Label Text="DestinationPath" TextColor="White"  Grid.Column="3" />
                            <Label Text="BackupType" TextColor="White"  Grid.Column="4" />
                            <Label Text="LastRun" TextColor="White"  Grid.Column="5" />
                        </Grid>
                    </CollectionView.Header>

                    <!-- Exemple de contenu -->
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid Padding="10" ColumnDefinitions="*,*,*,*,*">
                                <Label Text="{Binding }" Grid.Column="0"/>
                                <Label Text="{Binding }" Grid.Column="1"/>
                                <Label Text="{Binding }" Grid.Column="2"/>
                                <Label Text="{Binding }" Grid.Column="3"/>
                                <Label Text="{Binding }" Grid.Column="4"/>
                                <Label Text="{Binding }" Grid.Column="5"/>
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>


                <StackLayout Orientation="Vertical" Grid.Column="1" Spacing="20" VerticalOptions="Center">
                    <Button Grid.Column="3" Text="Ajouter"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}" Clicked="ClickAddJobButton"/>
                    <Button Grid.Column="3" Text="Supprimer"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}"/>
                    <Button Grid.Column="3" Text="Lancer 1"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}"/>
                    <Button Grid.Column="3" Text="Lancer tout"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}"/>
                    <Button Grid.Column="3" Text="Lancer les jobs sélectionnés"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}"/>
                    <Button Grid.Column="3" Text="Créer une sélection"  MaximumWidthRequest="200" BackgroundColor="{StaticResource MainColor}"/>
                </StackLayout>
            </Grid >
        </Grid>
        
        <Grid x:Name="PopUpAddJob" VerticalOptions="Center" HorizontalOptions="Center" RowSpacing="25" IsVisible="False"   BackgroundColor="{StaticResource White}"  Padding="20">
            <Grid.RowDefinitions>
                <RowDefinition  Height="Auto"/>
                <RowDefinition  Height="Auto"/>
                <RowDefinition  Height="Auto"/>
            </Grid.RowDefinitions>
            <Label Grid.Row="0" FontSize="Title" Text="Ajouter un JOB"  HorizontalOptions="Center"/>
            <StackLayout Orientation="Vertical" Grid.Row="1" HorizontalOptions="Center" MinimumWidthRequest="250">
                <Label Text="Nom"/>
                <Entry  Background="{StaticResource SecColor}" />
                <Label Text="SourcePath"/>
                <Entry  Background="{StaticResource SecColor}"/>
                <Label Text="DestionationPath"/>
                <Entry  Background="{StaticResource SecColor}"/>
                <Label Text="Back"/>
                <Entry  Background="{StaticResource SecColor}"/>
            </StackLayout>
            <StackLayout Orientation="Horizontal" Grid.Row="2" Spacing="50" HorizontalOptions="Center">
                <Button Grid.Column="3" Text="Annuler"  MaximumWidthRequest="150" BackgroundColor="Tomato" Clicked="ClickCancelButton"/>
                <Button Grid.Column="3" Text="Ajouter"  MaximumWidthRequest="150" BackgroundColor="LimeGreen" Clicked="ClickAddButton"/>
            </StackLayout>
        </Grid>
        
        <Grid x:Name="PopUpParameters" VerticalOptions="Center" HorizontalOptions="Center" 
              RowSpacing="25" IsVisible="False"   BackgroundColor="{StaticResource White}" 
              Padding="20" WidthRequest="600">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.5*"/>
                <ColumnDefinition Width="0.5*"/>
            </Grid.ColumnDefinitions>
            <Label Grid.Row="0" Text="Paramètres" TextColor="Black" Grid.ColumnSpan="2" HorizontalOptions="Center"/>

            <VerticalStackLayout Grid.Row="1" Grid.Column="0">
                <Label Text="Extensions" TextColor="Black"/>
                <HorizontalStackLayout>
                    <Entry WidthRequest="220" Background="{StaticResource SecColor}" />
                    <Button BackgroundColor="{StaticResource MainColor}" Text="+"/>
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <VerticalStackLayout Grid.Row="1" Grid.Column="1">
                <Label Text="Logiciels métier" TextColor="Black" Margin="10,0,0,0"/>
                <HorizontalStackLayout>
                    <Entry Margin="10,0,0,0" WidthRequest="220" Background="{StaticResource SecColor}" />
                    <Button BackgroundColor="{StaticResource MainColor}" Text="+"/>
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <CollectionView Background="red" Grid.Row="2" Grid.Column="0" HeightRequest="100" Margin="0,0,10,0" MaximumHeightRequest="500">
            </CollectionView>

            <CollectionView Background="Chartreuse" Grid.Row="2" Grid.Column="1" HeightRequest="100" Margin="10,0,0,0" MaximumHeightRequest="500">
            </CollectionView>

            <HorizontalStackLayout Spacing="50" HorizontalOptions="Center" Grid.Row="3" Grid.ColumnSpan="2">
                <Button Text="Annuler"  MaximumWidthRequest="150" BackgroundColor="Tomato" Clicked="ClickCancelParametersButton"/>
                <Button Text="Confirmer"  MaximumWidthRequest="150" BackgroundColor="LimeGreen" Clicked="ClickConfirmParametersButton"/>
            </HorizontalStackLayout>
        </Grid>
        
        <Grid x:Name="PopUpRunSelection" VerticalOptions="Center" HorizontalOptions="Center" RowSpacing="25" IsVisible="False"   BackgroundColor="{StaticResource White}"  Padding="20">
            <Grid.RowDefinitions>
                <RowDefinition  Height="Auto"/>
                <RowDefinition  Height="Auto"/>
                <RowDefinition  Height="Auto"/>
            </Grid.RowDefinitions>
            <Label Grid.Row="0" FontSize="Title" Text="Créer lancer une sélection de jobs"  HorizontalOptions="Center"/>
            <StackLayout Orientation="Vertical" Grid.Row="1" HorizontalOptions="Center" MinimumWidthRequest="300">
                <Label Text="Lancer 1-2-9 ou 1;6 par exemple "/>
                <Entry  Background="{StaticResource SecColor}" />
            </StackLayout>
            <StackLayout Orientation="Horizontal" Grid.Row="2" Spacing="50" HorizontalOptions="Center">
                <Button Grid.Column="3" Text="Annuler"  MaximumWidthRequest="150" BackgroundColor="Tomato" Clicked="ClickCancelButton"/>
                <Button Grid.Column="3" Text="Ajouter"  MaximumWidthRequest="150" BackgroundColor="LimeGreen" Clicked="ClickLaunchButton"/>
            </StackLayout>
        </Grid>
    </Grid>
</ContentPage>
